{"version":3,"sources":["jenfr.js"],"names":["global","deferred","promise","resolver","rejecter","Promise","resolve","reject","jenfr","target","options","arguments","length","undefined","defaults","uri","defer","canvas","ctx","frag","img","Element","TypeError","Object","document","createDocumentFragment","createElement","appendChild","keys","forEach","i","attribute","test","setAttribute","getContext","fillStyle","fillRect","width","height","window","requestAnimationFrame","title","description","copyright","version","exports","module","define","amd"],"mappings":";;AASA,cAEA,SAAWA,GAWV,QAASC,KACR,GAAIC,GAAU,OACVC,EAAW,OACXC,EAAW,MAOf,OALAF,GAAU,GAAIG,SAAQ,SAAUC,EAASC,GACxCJ,EAAWG,EACXF,EAAWG,KAGHD,QAASH,EAAUI,OAAQH,EAAUF,QAASA,GAGxD,QAASM,GAAMC,GACd,GAAIC,GAAUC,UAAUC,QAAU,GAAsBC,SAAjBF,UAAU,GAAmBG,EAAWH,UAAU,GACrFI,EAAMJ,UAAUC,QAAU,GAAsBC,SAAjBF,UAAU,GAAmB,GAAKA,UAAU,GAE3EK,EAAQf,IACRgB,EAAS,OACTC,EAAM,OACNC,EAAO,OACPC,EAAM,MAwCV,QAtCKX,YAAkBY,UACtBL,EAAMT,OAAO,GAAIe,WAAU,sBAGvBZ,YAAmBa,SACvBP,EAAMT,OAAO,GAAIe,WAAU,oBAG5BH,EAAOK,SAASC,yBAChBR,EAASO,SAASE,cAAc,UAChCP,EAAKQ,YAAYV,GAEjBM,OAAOK,KAAKd,GAAUe,QAAQ,SAAUC,GACnCC,EAAUC,KAAKF,IAClBb,EAAOgB,aAAaH,EAAGhB,EAASgB,MAI9Bb,EAAOiB,YACVhB,EAAMD,EAAOiB,WAAW,MAEpBxB,EAAQyB,YACXjB,EAAIiB,UAAYzB,EAAQyB,UACxBjB,EAAIkB,SAAS,EAAG,EAAGnB,EAAOoB,MAAOpB,EAAOqB,UAE/BvB,IACVK,EAAMI,SAASE,cAAc,OAC7BN,EAAIa,aAAa,MAAOlB,GACxBK,EAAIa,aAAa,SAAUvB,EAAQ4B,QACnClB,EAAIa,aAAa,QAASvB,EAAQ2B,OAClCpB,EAAOU,YAAYP,IAGpBmB,OAAOC,sBAAsB,WAC5B/B,EAAOkB,YAAYR,GACnBH,EAAMV,SAASW,EAAQC,EAAKE,MAGtBJ,EAAMd,QAvEd,GAAI6B,GAAY,mJAEZjB,GACHwB,OAAQ,GACRD,MAAO,GACPI,MAAO,GACPC,YAAa,GACbC,UAAW,GAmEZnC,GAAMoC,QAAU,QAGO,mBAAZC,SACVC,OAAOD,QAAUrC,EACW,kBAAXuC,SAAyBA,OAAOC,IACjDD,OAAO,WACN,MAAOvC,KAGRR,EAAOQ,MAAQA,GAEI,mBAAX+B,QAAyBA,OAASvC","file":"jenfr.min.js","sourcesContent":["/**\r\n * Photo library\r\n *\r\n * @author Jason Mulligan <jason.mulligan@avoidwork.com>\r\n * @copyright 2016\r\n * @license BSD-3-Clause\r\n * @link http://avoidwork.github.io/jenfr\r\n * @version 1.0.0\r\n */\n\"use strict\";\n\n(function (global) {\n\tvar attribute = /^(className|draggable|height|hidden|id|offsetHeight|offsetWidth|offsetLeft|offsetTop|scrollHeight|scrollLeft|scrollTop|scrollWidth|title|width)$/;\n\n\tvar defaults = {\n\t\theight: 50,\n\t\twidth: 50,\n\t\ttitle: \"\",\n\t\tdescription: \"\",\n\t\tcopyright: \"\"\n\t};\n\n\tfunction deferred() {\n\t\tvar promise = void 0,\n\t\t    resolver = void 0,\n\t\t    rejecter = void 0;\n\n\t\tpromise = new Promise(function (resolve, reject) {\n\t\t\tresolver = resolve;\n\t\t\trejecter = reject;\n\t\t});\n\n\t\treturn { resolve: resolver, reject: rejecter, promise: promise };\n\t}\n\n\tfunction jenfr(target) {\n\t\tvar options = arguments.length <= 1 || arguments[1] === undefined ? defaults : arguments[1];\n\t\tvar uri = arguments.length <= 2 || arguments[2] === undefined ? \"\" : arguments[2];\n\n\t\tvar defer = deferred(),\n\t\t    canvas = void 0,\n\t\t    ctx = void 0,\n\t\t    frag = void 0,\n\t\t    img = void 0;\n\n\t\tif (!target instanceof Element) {\n\t\t\tdefer.reject(new TypeError(\"Element required\"));\n\t\t}\n\n\t\tif (!options instanceof Object) {\n\t\t\tdefer.reject(new TypeError(\"Object required\"));\n\t\t}\n\n\t\tfrag = document.createDocumentFragment();\n\t\tcanvas = document.createElement(\"canvas\");\n\t\tfrag.appendChild(canvas);\n\n\t\tObject.keys(defaults).forEach(function (i) {\n\t\t\tif (attribute.test(i)) {\n\t\t\t\tcanvas.setAttribute(i, defaults[i]);\n\t\t\t}\n\t\t});\n\n\t\tif (canvas.getContext) {\n\t\t\tctx = canvas.getContext(\"2d\");\n\n\t\t\tif (options.fillStyle) {\n\t\t\t\tctx.fillStyle = options.fillStyle;\n\t\t\t\tctx.fillRect(0, 0, canvas.width, canvas.height);\n\t\t\t}\n\t\t} else if (uri) {\n\t\t\timg = document.createElement(\"img\");\n\t\t\timg.setAttribute(\"src\", uri);\n\t\t\timg.setAttribute(\"height\", options.height);\n\t\t\timg.setAttribute(\"width\", options.width);\n\t\t\tcanvas.appendChild(img);\n\t\t}\n\n\t\twindow.requestAnimationFrame(function () {\n\t\t\ttarget.appendChild(frag);\n\t\t\tdefer.resolve([canvas, ctx, img]);\n\t\t});\n\n\t\treturn defer.promise;\n\t}\n\n\tjenfr.version = \"1.0.0\";\n\n\t// Node, AMD & window supported\n\tif (typeof exports !== \"undefined\") {\n\t\tmodule.exports = jenfr;\n\t} else if (typeof define === \"function\" && define.amd) {\n\t\tdefine(function () {\n\t\t\treturn jenfr;\n\t\t});\n\t} else {\n\t\tglobal.jenfr = jenfr;\n\t}\n})(typeof window !== \"undefined\" ? window : global);\n"]}