/* 2016 Jason Mulligan <jason.mulligan@avoidwork.com> */

"use strict";function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}!function(a){function b(){var a=void 0,b=void 0,c=void 0;return a=new Promise(function(a,d){b=a,c=d}),{resolve:b,reject:c,promise:a}}function c(a){function c(){p&&(f.scale&&f.height&&f.width&&(p.height>f.height||p.width>f.width)&&(i.height=f.height/p.height,i.width=f.width/p.width,j=i.height<i.width?i.height:i.width),["height","width"].forEach(function(a){isNaN(f[a])?f[a]=p[a]:f.scale?(p.setAttribute(a,p[a]*j),h[k[a]]=Math.floor((f[a]-p[a])/2)):p.setAttribute(a,f[a])})),o=document.createDocumentFragment(),m=document.createElement("canvas"),o.appendChild(m),m.setAttribute("height",f.height),m.setAttribute("width",f.width),m.getContext?(n=m.getContext("2d"),p&&n.drawImage(p,h.left,h.top,p.width,p.height),[m,n].forEach(function(a,b){Object.keys(f).forEach(function(c){d.test(c)||(0===b&&a.hasAttribute(c)?a.setAttribute(c,f[c]):"function"==typeof a[c]&&a[c].apply(a,_toConsumableArray(f[c])))})})):p&&m.appendChild(p),window.requestAnimationFrame(function(){a.appendChild(o),g.resolve([m,n,p])})}var e=arguments.length<=1||void 0===arguments[1]?"":arguments[1],f=arguments.length<=2||void 0===arguments[2]?{height:100,width:100,scale:!0}:arguments[2],g=b(),h={left:0,top:0},i={height:0,width:0},j=1,k={width:"left",height:"top"},l=!1,m=void 0,n=void 0,o=void 0,p=void 0;return!a instanceof Element&&(l=!0,g.reject(new TypeError("`target` must be an Element"))),l||"string"==typeof e||(l=!0,g.reject(new TypeError("`uri` must be a String"))),!l&&!f instanceof Object&&(l=!0,g.reject(new TypeError("`options` must be an Object"))),l||(e?(p=document.createElement("img"),p.onload=c,p.onerror=g.reject,p.setAttribute("src",e)):c()),g.promise}var d=/^(drawImage|height|scale|width)$/;c.version="1.0.4","undefined"!=typeof exports?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):a.jenfr=c}("undefined"!=typeof window?window:global);
//# sourceMappingURL=jenfr.min.js.map