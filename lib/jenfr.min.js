/* 2016 Jason Mulligan <jason.mulligan@avoidwork.com> */

"use strict";!function(a){function b(){var a=void 0,b=void 0,c=void 0;return a=new Promise(function(a,d){b=a,c=d}),{resolve:b,reject:c,promise:a}}function c(a){var c=arguments.length<=1||void 0===arguments[1]?"":arguments[1],e=arguments.length<=2||void 0===arguments[2]?{height:100,width:100,scale:!0}:arguments[2],f=b(),g={left:0,top:0},h={height:0,width:0},i=1,j={width:"left",height:"top"},k=!1,l=void 0,m=void 0,n=void 0,o=void 0;return!a instanceof Element&&(k=!0,f.reject(new TypeError("`target` must be an Element"))),k||"string"==typeof c||(k=!0,f.reject(new TypeError("`uri` must be a String"))),!k&&!e instanceof Object&&(k=!0,f.reject(new TypeError("`options` must be an Object"))),k||(c&&(o=document.createElement("img"),o.setAttribute("src",c),e.scale&&e.height&&e.width&&(o.height>e.height||o.width>e.width)&&(h.height=e.height/o.height,h.width=e.width/o.width,i=h.height<h.width?h.height:h.width),["height","width"].forEach(function(a){isNaN(e[a])?e[a]=o[a]:e.scale?(o.setAttribute(a,o[a]*i),g[j[a]]=Math.floor((e[a]-o[a])/2)):o.setAttribute(a,e[a])})),n=document.createDocumentFragment(),l=document.createElement("canvas"),n.appendChild(l),Object.keys(e).forEach(function(a){d.test(a)&&l.setAttribute(a,e[a])}),l.getContext?(m=l.getContext("2d"),e.fillStyle&&(m.fillStyle=e.fillStyle,m.fillRect(0,0,l.width,l.height)),o&&m.drawImage(o,g.left,g.top,o.width,o.height)):o&&l.appendChild(o),window.requestAnimationFrame(function(){a.appendChild(n),f.resolve([l,m,o])})),f.promise}var d=/^(className|draggable|height|hidden|id|offsetHeight|offsetWidth|offsetLeft|offsetTop|scrollHeight|scrollLeft|scrollTop|scrollWidth|title|width)$/;c.version="1.0.1","undefined"!=typeof exports?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):a.jenfr=c}("undefined"!=typeof window?window:global);
//# sourceMappingURL=jenfr.min.js.map